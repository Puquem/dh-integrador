<!DOCTYPE html>
<html lang="en">
<head>
	<%- include("../partials/head.ejs")%> 
	<!--===============================================================================================-->
	<link rel="stylesheet" href="/css/createField.css">

	<title>METEGOL | Editar Cancha</title>
</head>

<body>
    <!--Header-->

    <%- include("../partials/header.ejs")%> 
    
    <!--Main Content-->

    <div class="align">
      <div class="form">
        <form action="/fields/<%= fields.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
            
          <div class="container-title">
            <h1>Editar cancha</h1>
            <div class="right">
              <li><a href="/fields/<%= fields.id %>">&larr; Volver al detalle de cancha</a></li>
            </div>
          </div>
			
          <div class="field-form">
                  
            <div class="input-fields">
              <label>Nombre del complejo:</label>
              <select class="selector" name="complexes_id">
                <!-- Aquí se necesita que quede seleccionado el <option> que corresponde, para poder enviar el ID del mismo -->
                <!-- <option value=""><%= fields.complexes.complex %></option> -->
                <!-- La idea será agregarle el atributo "selected" a aquel <option> que corresponda con el ID de este registro -->
                <% complexes.forEach(complexes => { %>
                  <option 
                    value="<%= complexes.id %>"
                    <%= complexes.id === fields.complexes_id ? 'selected' : null %> 
                  > 
                      <%= complexes.complex %> 
                  </option>
                <% }) %>
              </select>

              <label>Nombre de la cancha:</label>
              <input type="text" class="input" name="name" value="<%= fields.name %>">
 
              <label>Tipo de cancha: </label>
              <select class="selector" name="categories_id">
                <!-- Hay que hacer lo mismo que con el select "complexes_id" -->
                <!-- <option value=""><%= fields.categories.category %></option> -->
                <% categories.forEach(categories => { %>
                  <option 
                    value="<%= categories.id %>"
                    <%= categories.id === fields.categories_id ? 'selected' : null %>
                  > 
                    <%= categories.category %> 
                  </option>
                <% }) %>
              </select>
        
              <label>Precio del alquiler por hora: </label>
              <input class="input" type="number" name="price" value="<%= fields.price %>">
                        
              <label>Servicios: </label>
              <input class="input" name="description" value="<%= fields.description %>">
            </div>
          </div>
          
          <div class="uploads">
            <label>Elige tres imágenes: </label>
              <div class="upload-images">
                <p class="image">
                  <% if (locals.product) { %>
                      <img src="/images/products/<%= fields.image1 %>" alt="">
                      <input type="hidden" name="image1" value="<%= fields.image1 %>">
                  <% } %>
                </p>
                <p>
                  <label>
                      Imagen 1
                      <input type="file" name="image1">
                  </label>
                </p>
                <p class="image">
                <% if (locals.product) { %>
                    <img src="/images/products/<%= fields.image2 %>" alt="">
                    <input type="hidden" name="image2" value="<%= fields.image2 %>">
                <% } %>
                </p>
                <p>
                  <label>
                    Imagen 2
                    <input type="file" name="image2">
                  </label>
                </p>
                <p class="image">
                  <% if (locals.product) { %>
                    <img src="/images/products/<%= fields.image3 %>" alt="">
                    <input type="hidden" name="image3" value="<%= fields.image3 %>">
                  <% } %>
                </p>
                <p> 
                  <label>
                    Imagen 3
                    <input type="file" name="image3">
                  </label>
                </p>
              </div>
          </div>
        <p class="buttons">
            <button type="submit" value="submit" class="btn btn-primary">Guardar cambios</button>
        </p>
          
      </form>
      </div>
    </div>
        
    <!--Footer-->
    <%- include("../partials/footer.ejs")%> 
    
	</div>
</body>
</html>